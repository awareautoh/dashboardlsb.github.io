<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Test Dashboard</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-eOJMYsd53ii+scO/bJGFsiCZc+5NDVN2yr8+0RDqr0Ql0h+rP48ckxlpbzKgwra6" crossorigin="anonymous">
    <script src="https://d3js.org/d3.v6.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/apexcharts"></script>
    <script
      src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.9.4/Chart.min.js"
      integrity="sha512-d9xgZrVZpmmQlfonhQUvTR7lMPtO7NkZMkA0ABN3PHCbKA5nqylQ/yWlFAyY6hYgdF1Qh6nYiuADWwKB4C2WSw=="
      crossorigin="anonymous"
    ></script>
    <style type="text/css">
        #chart {
          max-width: 650px;
          margin: 35px auto;
        }
    </style>
  </head>
  <body>
    <div class="container"> 

      <div class="row">
        <div class="col-sm-6">

          <div id="pchart"></div>
      </div>
      <div class="col-sm-6">
          <div id="salechart"></div>
        
      </div>


    </div>
    
    <script type="text/javascript">

      d3.csv("data.csv").then(pchart);//chart on population
      d3.csv("data.csv").then(salechart);//chart on population

      function pchart(pnumber) {
        var pLabels = pnumber.map(function (d) {
          return d.country;
        });
        var pData = pnumber.map(function (d) {
          return d.population;
        });


      var options = {
        chart: {
          type: 'bar'
        },
        series: [{
          name: 'Population',
          data: pData
        }],
        xaxis: {
          categories: pLabels
        },
        colors: [function({ value, seriesIndex, w }) {
          if (value < 100000) {
              return '#7E36AF'
          } else {
              return '#D9534F'
          }
        }, function({ value, seriesIndex, w }) {
          if (value < 150000) {
              return '#7E36AF'
          } else {
              return '#D9534F'
          }
        }]
      }

      var chart = new ApexCharts(document.querySelector("#pchart"), options);

      chart.render();
    }

    //chart 2 

    function salechart(sale){

      var saleLabels = sale.map(function(d){

        return d.country;
      });
      var salData = sale.map(function (d){

        return d.population;
      });

      var options = {
        chart: {
          type: 'line'
        },
        series: [{
          name: 'Population',
          data: salData
        }],
        xaxis: {
          categories: saleLabels
        }
      }

      var chart2 = new ApexCharts(document.querySelector("#salechart"), options);

      chart2.render();



    }








    </script>






    <!-- <script>
      d3.csv("data.csv").then(makeChart);

      function makeChart(players) {
        var playerLabels = players.map(function (d) {
          return d.country;
        });
        var weeksData = players.map(function (d) {
          return d.population;
        });

        var chart = new Chart("myChart", {
          type: "bar",
          data: {
            labels: playerLabels,
            datasets: [
              {
                data: weeksData
              }
            ]
          }
        });
      }
    </script> -->
  </body>
</html>
